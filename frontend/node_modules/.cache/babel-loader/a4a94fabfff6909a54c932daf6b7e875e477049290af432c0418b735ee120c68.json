{"ast":null,"code":"import _slicedToArray from\"C:/Users/Ganesh/Desktop/AIO/Masters/NYU/Fall 2022/Cloud Computing/aws-roommate-finder/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{getUser}from'./service/AuthService';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var registerUrl=\"https://lqjgcqa4lf.execute-api.us-east-1.amazonaws.com/prod/register\";var Register=function Register(){var navigate=useNavigate();var user=getUser();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),username=_useState6[0],setUsername=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),message=_useState10[0],setMessage=_useState10[1];//If user authenticated, redirect them\nuseEffect(function(){if(user){navigate(\"/\");}},[user]);var submitHandler=function submitHandler(event){event.preventDefault();if(username.trim()===''||email.trim()===''||name.trim()===''||password.trim()===''){setMessage('All fields required');return;}setMessage(null);var requestBody={username:username,email:email,name:name,password:password};axios.post(registerUrl,requestBody).then(function(response){setMessage('Registeration succesful');}).catch(function(error){if(error.response.status===401||error.response.status===403){setMessage(error.response.data.message);}else{setMessage('Backend server error');}});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Register\"}),\"name: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:function onChange(event){return setName(event.target.value);}}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"email: \",/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:function onChange(event){return setEmail(event.target.value);}}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"username: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:function onChange(event){return setUsername(event.target.value);}}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"password: \",/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:function onChange(event){return setPassword(event.target.value);}}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Register\"})]}),message&&/*#__PURE__*/_jsx(\"p\",{className:\"message\",children:message})]});};export default Register;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","getUser","axios","registerUrl","Register","navigate","user","name","setName","email","setEmail","username","setUsername","password","setPassword","message","setMessage","submitHandler","event","preventDefault","trim","requestBody","post","then","response","catch","error","status","data","target","value"],"sources":["C:/Users/Ganesh/Desktop/AIO/Masters/NYU/Fall 2022/Cloud Computing/aws-roommate-finder/frontend/src/Register.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { getUser } from './service/AuthService'\r\nimport axios from 'axios';\r\n\r\nconst registerUrl = \"https://lqjgcqa4lf.execute-api.us-east-1.amazonaws.com/prod/register\"\r\n\r\nconst Register = () => {\r\n    const navigate = useNavigate();\r\n    const user = getUser();\r\n    const [name, setName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [message, setMessage] = useState(null);\r\n\r\n    //If user authenticated, redirect them\r\n    useEffect(() => {\r\n        if (user) {\r\n            navigate(\"/\")\r\n        }\r\n    }, [user])\r\n\r\n    const submitHandler = (event) => {\r\n        event.preventDefault();\r\n        if (username.trim() === '' || email.trim() === '' || name.trim() === '' || password.trim() === '') {\r\n            setMessage('All fields required');\r\n            return;\r\n        }\r\n\r\n\r\n        setMessage(null);\r\n        const requestBody = {\r\n            username: username,\r\n            email: email,\r\n            name: name,\r\n            password: password\r\n        }\r\n        axios.post(registerUrl, requestBody).then(response => {\r\n            setMessage('Registeration succesful');\r\n        }).catch(error => {\r\n            if (error.response.status === 401 || error.response.status === 403) {\r\n                setMessage(error.response.data.message);\r\n            } else {\r\n                setMessage('Backend server error');\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmit={submitHandler}>\r\n                <h5>Register</h5>\r\n                name: <input type=\"text\" value={name} onChange={event => setName(event.target.value)} /> <br />\r\n                email: <input type=\"email\" value={email} onChange={event => setEmail(event.target.value)} /> <br />\r\n                username: <input type=\"text\" value={username} onChange={event => setUsername(event.target.value)} /> <br />\r\n                password: <input type=\"password\" value={password} onChange={event => setPassword(event.target.value)} /> <br />\r\n                <input type=\"submit\" value=\"Register\" />\r\n            </form>\r\n            {message && <p className='message'>{message}</p>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}