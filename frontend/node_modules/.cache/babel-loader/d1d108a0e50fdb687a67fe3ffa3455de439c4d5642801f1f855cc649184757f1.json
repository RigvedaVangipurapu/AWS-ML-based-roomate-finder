{"ast":null,"code":"import _createForOfIteratorHelper from\"C:/Users/Ganesh/Desktop/AIO/Masters/NYU/Fall 2022/Cloud Computing/aws-roommate-finder/frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _slicedToArray from\"C:/Users/Ganesh/Desktop/AIO/Masters/NYU/Fall 2022/Cloud Computing/aws-roommate-finder/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{getUser}from'./service/AuthService';import axios from'axios';// const registerUrl = \"https://lqjgcqa4lf.execute-api.us-east-1.amazonaws.com/prod/register\"\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var registerUrl=\"https://ao9v2ya7ci.execute-api.us-east-1.amazonaws.com/deploy/register\";var Register=function Register(){var navigate=useNavigate();var user=getUser();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),username=_useState6[0],setUsername=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),message=_useState10[0],setMessage=_useState10[1];//If user authenticated, redirect them\nuseEffect(function(){if(user){navigate(\"/\");}},[user]);var submitHandler=function submitHandler(event){var isEmpty=function isEmpty(element){return!element.value.trim()||element.value.trim()===\"\";};event.preventDefault();if(username.trim()===''||email.trim()===''||name.trim()===''||password.trim()===''){setMessage('All fields required');return;}var _iterator=_createForOfIteratorHelper(event.target.elements),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var ele=_step.value;if(isEmpty(ele)){setMessage('All fields required');return;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}setMessage(null);var requestBody={username:username,email:email,name:name,password:password};var _iterator2=_createForOfIteratorHelper(event.target.elements),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _ele=_step2.value;if(_ele.name!==\"\"){requestBody[_ele.name]=_ele.value;}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}axios.post(registerUrl,requestBody).then(function(response){setMessage('Registeration succesful');}).catch(function(error){if(error.response.status===401||error.response.status===403){setMessage(error.response.data.message);}else{setMessage('Backend server error');}});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Register\"}),\"name: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:function onChange(event){return setName(event.target.value);}}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"email: \",/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:function onChange(event){return setEmail(event.target.value);}}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"age: \",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"age\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"sex: \",/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"female\",name:\"sex\"}),\"Female\",/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"male\",name:\"sex\"}),\"Male\",/*#__PURE__*/_jsx(\"br\",{}),\"orientation:\",/*#__PURE__*/_jsxs(\"select\",{name:\"orientation\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"straight\",children:\"straight\"}),/*#__PURE__*/_jsx(\"option\",{value:\"bisexual\",children:\"bisexual\"})]}),/*#__PURE__*/_jsx(\"br\",{}),\"diet: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"diet\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"drinks:\",/*#__PURE__*/_jsxs(\"select\",{name:\"drinks\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"yes\",children:\"yes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"no\",children:\"no\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sometimes\",children:\"sometimes\"})]}),/*#__PURE__*/_jsx(\"br\",{}),\"drugs:\",/*#__PURE__*/_jsxs(\"select\",{name:\"drugs\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"yes\",children:\"yes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"no\",children:\"no\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sometimes\",children:\"sometimes\"})]}),/*#__PURE__*/_jsx(\"br\",{}),\"education: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"education\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"ethnicity: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"ethnicity\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"income: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"income\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"location: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"location\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"pets: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"pets\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"smokes:\",/*#__PURE__*/_jsxs(\"select\",{name:\"smokes\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"yes\",children:\"yes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"no\",children:\"no\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sometimes\",children:\"sometimes\"})]}),/*#__PURE__*/_jsx(\"br\",{}),\"speaks: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"speaks\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"username: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:function onChange(event){return setUsername(event.target.value);}}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"password: \",/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:function onChange(event){return setPassword(event.target.value);}}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Register\"})]}),message&&/*#__PURE__*/_jsx(\"p\",{className:\"message\",children:message})]});};export default Register;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","getUser","axios","registerUrl","Register","navigate","user","name","setName","email","setEmail","username","setUsername","password","setPassword","message","setMessage","submitHandler","event","isEmpty","element","value","trim","preventDefault","target","elements","ele","requestBody","post","then","response","catch","error","status","data"],"sources":["C:/Users/Ganesh/Desktop/AIO/Masters/NYU/Fall 2022/Cloud Computing/aws-roommate-finder/frontend/src/Register.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { getUser } from './service/AuthService'\r\nimport axios from 'axios';\r\n\r\n// const registerUrl = \"https://lqjgcqa4lf.execute-api.us-east-1.amazonaws.com/prod/register\"\r\nconst registerUrl = \"https://ao9v2ya7ci.execute-api.us-east-1.amazonaws.com/deploy/register\"\r\n\r\nconst Register = () => {\r\n    const navigate = useNavigate();\r\n    const user = getUser();\r\n    const [name, setName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [message, setMessage] = useState(null);\r\n\r\n    //If user authenticated, redirect them\r\n    useEffect(() => {\r\n        if (user) {\r\n            navigate(\"/\")\r\n        }\r\n    }, [user])\r\n\r\n    const submitHandler = (event) => {\r\n\r\n        const isEmpty = (element) => {\r\n            return (!element.value.trim() || element.value.trim() === \"\")\r\n        }\r\n\r\n        event.preventDefault();\r\n        if (username.trim() === '' || email.trim() === '' || name.trim() === '' || password.trim() === '') {\r\n            setMessage('All fields required');\r\n            return;\r\n        }\r\n        for (let ele of event.target.elements) {\r\n            if (isEmpty(ele)) {\r\n                setMessage('All fields required')\r\n                return;\r\n            }\r\n        }\r\n\r\n\r\n        setMessage(null);\r\n        const requestBody = {\r\n            username: username,\r\n            email: email,\r\n            name: name,\r\n            password: password,\r\n        }\r\n        for (let ele of event.target.elements) {\r\n            if (ele.name !== \"\") {\r\n                requestBody[ele.name] = ele.value\r\n            }\r\n        }\r\n        axios.post(registerUrl, requestBody).then(response => {\r\n            setMessage('Registeration succesful');\r\n        }).catch(error => {\r\n            if (error.response.status === 401 || error.response.status === 403) {\r\n                setMessage(error.response.data.message);\r\n            } else {\r\n                setMessage('Backend server error');\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmit={submitHandler}>\r\n                <h5>Register</h5>\r\n                name: <input type=\"text\" value={name} onChange={event => setName(event.target.value)} /> <br />\r\n                email: <input type=\"email\" value={email} onChange={event => setEmail(event.target.value)} /> <br />\r\n                age: <input type=\"number\" name='age' /> <br />\r\n                sex: <input type=\"radio\" value=\"female\" name='sex' />Female\r\n                <input type=\"radio\" value=\"male\" name='sex' />Male<br />\r\n                orientation:\r\n                <select name=\"orientation\">\r\n                    <option value=\"straight\">straight</option>\r\n                    <option value=\"bisexual\">bisexual</option>\r\n                </select><br />\r\n                diet: <input type=\"text\" name=\"diet\" /> <br />\r\n                drinks:\r\n                <select name='drinks'>\r\n                    <option value=\"yes\">yes</option>\r\n                    <option value=\"no\">no</option>\r\n                    <option value=\"sometimes\">sometimes</option>\r\n                </select><br />\r\n                drugs:\r\n                <select name=\"drugs\">\r\n                    <option value=\"yes\">yes</option>\r\n                    <option value=\"no\">no</option>\r\n                    <option value=\"sometimes\">sometimes</option>\r\n                </select><br />\r\n                education: <input type=\"text\" name=\"education\" /> <br />\r\n                ethnicity: <input type=\"text\" name=\"ethnicity\" /> <br />\r\n                income: <input type=\"text\" name=\"income\" /> <br />\r\n                location: <input type=\"text\" name=\"location\" /> <br />\r\n                pets: <input type=\"text\" name=\"pets\" /> <br />\r\n                smokes:\r\n                <select name=\"smokes\">\r\n                    <option value=\"yes\">yes</option>\r\n                    <option value=\"no\">no</option>\r\n                    <option value=\"sometimes\">sometimes</option>\r\n                </select><br />\r\n                speaks: <input type=\"text\" name=\"speaks\" /> <br />\r\n                username: <input type=\"text\" value={username} onChange={event => setUsername(event.target.value)} /> <br />\r\n                password: <input type=\"password\" value={password} onChange={event => setPassword(event.target.value)} /> <br />\r\n                <input type=\"submit\" value=\"Register\" />\r\n            </form>\r\n            {message && <p className='message'>{message}</p>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}